<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a short animation for calibrating the looming animation function — looming_animation_calib • loomeR</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Create a short animation for calibrating the looming animation function — looming_animation_calib" />

<meta property="og:description" content="All screens are different, so an object of a hypothetical size
may be displayed at a different size on a different screen, due to
differences in resolution or the physical size of the pixels that make up
the screen. looming_animation_calib is a utility to help calibrate
the looming_animation function for a particular screen." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">loomeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/nicholascarey/loomeR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a short animation for calibrating the looming animation function</h1>
    <small class="dont-index">Source: <a href='https://github.com/nicholascarey/loomeR/blob/master/R/looming_animation_calib.R'><code>R/looming_animation_calib.R</code></a></small>
    <div class="hidden name"><code>looming_animation_calib.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>All screens are different, so an object of a hypothetical size
may be displayed at a different size on a different screen, due to
differences in resolution or the physical size of the pixels that make up
the screen. <code>looming_animation_calib</code> is a utility to help calibrate
the <code><a href='looming_animation.html'>looming_animation</a></code> function for a particular screen.</p>
    
    </div>

    <pre class="usage"><span class='fu'>looming_animation_calib</span>(<span class='kw'>correction_range</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.02</span>, <span class='fl'>0.03</span>), <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>1920</span>,
  <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>1080</span>, <span class='kw'>ruler</span> <span class='kw'>=</span> <span class='fl'>10</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>correction_range</th>
      <td><p>numeric vector of length = 2. Upper and lower range of
the correction factors to be tested. Defaults to <code><a href='https://www.rdocumentation.org/packages/base/topics/c'>c(0.02, 0.03)</a></code>.
Larger screens require lower values.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>integer. Width resolution of the display. E.g. for a display set
at 1080p resolution (1920x1080), this is <code>width = 1920</code>. Note: this is
NOT the native resolution, but the display resolution as set in the
operating system settings. Visit <a href='https://whatismyscreenresolution.com'>https://whatismyscreenresolution.com</a>
on the playback display to check.</p></td>
    </tr>
    <tr>
      <th>height</th>
      <td><p>integer. Height resolution of the display. E.g. for a display
set at 1080p resolution (1920x1080), this is <code>height = 1080</code>. Note:
this is NOT the native resolution, but the display resolution as set in the
operating system settings. Visit <a href='https://whatismyscreenresolution.com'>https://whatismyscreenresolution.com</a>
on the playback display to check.</p></td>
    </tr>
    <tr>
      <th>ruler</th>
      <td><p>numeric. Width in cm to check onscreen with your ruler. Should be
less than the physical horizontal width of the screen, or - obviously - it
will be too large to display.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>IMPORTANT: The function works by saving an image
(<code>loom_img_01.png</code> etc.) for every frame of the animation to the
current working directory. It then uses <code>ffmpeg</code> to encode these images
to an <code>.mp4</code> file (saved as <code>animation_calib.mp4</code>). It then
deletes the <code>.png</code> files from the working directory. It will overwrite
any <code>.png</code> or <code>.mp4</code> file it encounters which has an identical
name.</p>
<p>The function helps determine the <code>correction</code> value used in
<code><a href='looming_animation.html'>looming_animation</a></code> to ensure screen diameters are correctly
displayed. Typically this is in the range 0.01 - 0.06, with the larger the
screen the lower the value. It requires access to the screen you intend to
display the animation on, and a ruler or other method of physically
measuring lengths on the screen. The output is a short 2 second, 60 frame
video containing a static image of 10 horizontal bars (it is not an image
file to ensure software rendering onscreen is consistent). This video should
be opened in the playback application, paused, made fullscreen and the bar
closest in length to the entered <code>ruler</code> value used to estimate an
appropriate <code>correction</code> value. If the <code>ruler</code> width falls between
two values, these can be entered as the <code>correction_range</code>, and the
function run again to further refine estimates of the <code>correction</code>
value. The <code>ruler</code> value should be less than the physical horizontal
width of the screen, or - obviously - the bars will be too wide to display.</p>
<p>The display resolution of the screen you will use to play the animation
should be entered as <code>width</code> and <code>height</code>. NOTE - This is the
current DISPLAY resolution, which is not necessarily the native resolution
of the screen, but determined in the Displays preferences of your operating
system. If you are unsure, visit <a href='https://whatismyscreenresolution.com'>https://whatismyscreenresolution.com</a>
on the device. These settings ensure the animation is in the correct aspect
ratio and uses the full screen.</p>
<p>Note that if you are creating multiple animations, the <code>correction</code>
value used in <code><a href='looming_animation.html'>looming_animation</a></code> will be the same for a
particular screen as long as the display resolution remains the same.</p>
<p>The function should work with both Windows and macOS (Linux coming soon),
however it requires <code>ffmpeg</code> (<a href='http://ffmpeg.org'>http://ffmpeg.org</a>), an external,
cross-platform, command line utility for encoding video, to be installed on
your system. For installation instructions see
<a href='http://adaptivesamples.com/how-to-install-ffmpeg-on-windows/'>http://adaptivesamples.com/how-to-install-ffmpeg-on-windows/</a> (may need
to restart) or
<a href='https://github.com/fluent-ffmpeg/node-fluent-ffmpeg/wiki/Installing-ffmpeg-on-Mac-OS-X'>https://github.com/fluent-ffmpeg/node-fluent-ffmpeg/wiki/Installing-ffmpeg-on-Mac-OS-X</a></p>
<h3>Note on smaller screens</h3>
If you are using the function to
calibrate for a small screen, for example a phone or tablet, the resulting
video might look strange: low resolution, blurry, bad spacing, etc. This is
normal, and a result of having to scale the text size to display properly.
It should not affect the estimation of the <code>calibration</code> value, or the
animation you eventually create in <code><a href='looming_animation.html'>looming_animation</a></code>. Please
do let me know if you have any issues however.
    
    <h2 class="hasAnchor" id="dependencies"><a class="anchor" href="#dependencies"></a>Dependencies</h2>

    <p>The function requires the following packages:
<code>glue</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='looming_animation.html'>looming_animation</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Create a calibration video for checking a 10cm width</span>
<span class='fu'>looming_animation_calib</span>(<span class='kw'>correction_range</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>0.02</span>, <span class='fl'>0.03</span>),
                        <span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>1920</span>,
                        <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>1080</span>,
                        <span class='kw'>ruler</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='message'>Creating calibration animation...</span></div><div class='output co'>#&gt; [=                                                 ] 2% Generating image files</div><div class='output co'>#&gt; [=                                                 ] 3% Generating image files</div><div class='output co'>#&gt; [==                                                ] 5% Generating image files</div><div class='output co'>#&gt; [===                                               ] 7% Generating image files</div><div class='output co'>#&gt; [====                                              ] 8% Generating image files</div><div class='output co'>#&gt; [=====                                             ] 10% Generating image files</div><div class='output co'>#&gt; [======                                            ] 12% Generating image files</div><div class='output co'>#&gt; [======                                            ] 13% Generating image files</div><div class='output co'>#&gt; [=======                                           ] 15% Generating image files</div><div class='output co'>#&gt; [========                                          ] 17% Generating image files</div><div class='output co'>#&gt; [=========                                         ] 18% Generating image files</div><div class='output co'>#&gt; [==========                                        ] 20% Generating image files</div><div class='output co'>#&gt; [===========                                       ] 22% Generating image files</div><div class='output co'>#&gt; [===========                                       ] 23% Generating image files</div><div class='output co'>#&gt; [============                                      ] 25% Generating image files</div><div class='output co'>#&gt; [=============                                     ] 27% Generating image files</div><div class='output co'>#&gt; [==============                                    ] 28% Generating image files</div><div class='output co'>#&gt; [===============                                   ] 30% Generating image files</div><div class='output co'>#&gt; [================                                  ] 32% Generating image files</div><div class='output co'>#&gt; [================                                  ] 33% Generating image files</div><div class='output co'>#&gt; [=================                                 ] 35% Generating image files</div><div class='output co'>#&gt; [==================                                ] 37% Generating image files</div><div class='output co'>#&gt; [===================                               ] 38% Generating image files</div><div class='output co'>#&gt; [====================                              ] 40% Generating image files</div><div class='output co'>#&gt; [=====================                             ] 42% Generating image files</div><div class='output co'>#&gt; [=====================                             ] 43% Generating image files</div><div class='output co'>#&gt; [======================                            ] 45% Generating image files</div><div class='output co'>#&gt; [=======================                           ] 47% Generating image files</div><div class='output co'>#&gt; [========================                          ] 48% Generating image files</div><div class='output co'>#&gt; [=========================                         ] 50% Generating image files</div><div class='output co'>#&gt; [==========================                        ] 52% Generating image files</div><div class='output co'>#&gt; [==========================                        ] 53% Generating image files</div><div class='output co'>#&gt; [===========================                       ] 55% Generating image files</div><div class='output co'>#&gt; [============================                      ] 56% Generating image files</div><div class='output co'>#&gt; [============================                      ] 57% Generating image files</div><div class='output co'>#&gt; [==============================                    ] 60% Generating image files</div><div class='output co'>#&gt; [===============================                   ] 62% Generating image files</div><div class='output co'>#&gt; [===============================                   ] 63% Generating image files</div><div class='output co'>#&gt; [================================                  ] 65% Generating image files</div><div class='output co'>#&gt; [=================================                 ] 67% Generating image files</div><div class='output co'>#&gt; [==================================                ] 68% Generating image files</div><div class='output co'>#&gt; [===================================               ] 70% Generating image files</div><div class='output co'>#&gt; [====================================              ] 72% Generating image files</div><div class='output co'>#&gt; [====================================              ] 73% Generating image files</div><div class='output co'>#&gt; [=====================================             ] 75% Generating image files</div><div class='output co'>#&gt; [======================================            ] 77% Generating image files</div><div class='output co'>#&gt; [=======================================           ] 78% Generating image files</div><div class='output co'>#&gt; [========================================          ] 80% Generating image files</div><div class='output co'>#&gt; [=========================================         ] 82% Generating image files</div><div class='output co'>#&gt; [=========================================         ] 83% Generating image files</div><div class='output co'>#&gt; [==========================================        ] 85% Generating image files</div><div class='output co'>#&gt; [===========================================       ] 87% Generating image files</div><div class='output co'>#&gt; [============================================      ] 88% Generating image files</div><div class='output co'>#&gt; [=============================================     ] 90% Generating image files</div><div class='output co'>#&gt; [==============================================    ] 92% Generating image files</div><div class='output co'>#&gt; [==============================================    ] 93% Generating image files</div><div class='output co'>#&gt; [===============================================   ] 95% Generating image files</div><div class='output co'>#&gt; [================================================  ] 97% Generating image files</div><div class='output co'>#&gt; [================================================= ] 98% Generating image files</div><div class='output co'>#&gt; [==================================================] 100% Generating image files</div><div class='output co'>#&gt; <span class='message'>Encoding movie...</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#dependencies">Dependencies</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Nicholas Carey - <a href='mailto:nicholascarey@gmail.com'>nicholascarey@gmail.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Nicholas Carey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

